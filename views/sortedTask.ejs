<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TodoList App</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />


    <!-- google fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Righteous"
      rel="stylesheet"
    />
    <style>

      .l-1{
        font-size: large;
        font-weight: 600;
        background-color:lightcoral;
      }
      .l-2{
        font-size: large;
        font-weight: 600;
        background-color: lightsalmon;
      }
      .l-3{
        font-size: large;
        font-weight: 600;
        background-color: lightgoldenrodyellow;
      }
  
      ul li:hover{
        background-color: lightseagreen;
        color: white;
        font-size: x-large;
      }
      .row{
        padding: 1rem;
      }
  
      </style>

  </head>
  <body style="background: linear-gradient(to bottom, #33ccff 0%, #ff99cc 100%);">
    <div class="hero">
      <div class="container">
        <h1 class="display-2 text-center">TodoList</h1>
        <p class="text-center">Manage All your tasks</p>

        <center>
        <a href="/newTask"><button type="button" class="btn btn-warning mx-auto">
        ADD TASK
        </button>
        </a>
                
        <a href="/showTasks">
            <button type="button" class="btn btn-danger mx-auto">
            BACK
            </button>
        </a>
        <br>
        <br>
        <h4>Sorting is Done based on : <strong><%= sortingCatagory%></strong></h4>
        <center>
          <h2><% if ( sortingCatagory=="priority" ) {%></h2>
            <h2 class="display-6">TASKS COMPELETED</h2>
            <ul class="list-group">
              <% for(var i=0;i< toDoList.length;i++) { %>
                <% if(toDoList[i].completed == "false") { %>
                  <li class="l-<%= toDoList[i].priority %> list-group-item d-flex justify-content-between align-items-center">
                    <%  if( Math.ceil((new Date(toDoList[i].dueDate) - new Date())/ (1000 * 3600 * 24)) <=0 ) { %>
                      <span class="badge badge-danger badge-pill">ðŸ’€</span>
                    <% } %>  
                    <%  if( Math.ceil((new Date(toDoList[i].dueDate) - new Date())/ (1000 * 3600 * 24)) >0 ) { %>
                      <span class="badge badge-primary badge-pill"><%= Math.ceil((new Date(toDoList[i].dueDate) - new Date())/ (1000 * 3600 * 24)) %></span>
                    <% } %>  
                    <small><%= toDoList[i].dueDate.getDate()%> / <%= toDoList[i].dueDate.getMonth()%> / <%= toDoList[i].dueDate.getFullYear()%></small>
                    <strong><%= toDoList[i].name %></strong>
                    <br/>
                    <h5><%= toDoList[i].label%></h5>
                    <input type="text" name="taskid" value="'<%= toDoList[i]._id %>'"><br>    
                  </li><br>
                <% } %> 
              <% } %>
            </ul>
          <% } %>

          <h2><% if ( sortingCatagory=="dueDate" ) {%></h2>
            <h2 class="display-6">TASKS COMPELETED</h2>
            <ul class="list-group">
              <% for(var i=0;i< toDoList.length;i++) { %>
                <% if(toDoList[i].completed == "false") { %>
                  <li class="l-<%= toDoList[i].priority %> list-group-item d-flex justify-content-between align-items-center">
                    <%  if( Math.ceil((new Date(toDoList[i].dueDate) - new Date())/ (1000 * 3600 * 24)) <=0 ) { %>
                          <span class="badge badge-danger badge-pill">ðŸ’€</span>
                        <% } %>  
                        <%  if( Math.ceil((new Date(toDoList[i].dueDate) - new Date())/ (1000 * 3600 * 24)) >0 ) { %>
                          <span class="badge badge-primary badge-pill"><%= Math.ceil((new Date(toDoList[i].dueDate) - new Date())/ (1000 * 3600 * 24)) %></span>
                        <% } %>  
                    <small><%= toDoList[i].dueDate.getDate()%> / <%= toDoList[i].dueDate.getMonth()%> / <%= toDoList[i].dueDate.getFullYear()%></small>
                    <strong><%= toDoList[i].name %></strong>
                    <br/>
                    <h5><%= toDoList[i].label%></h5>
                    <input type="text" name="taskid" value="'<%= toDoList[i]._id %>'"><br>    
                  </li><br>
                <% } %> 
              <% } %>
            </ul>
          <% } %>
    </div>
    <br><br><br>
    <footer class="page-footer font-small indigo">
      <div class="container">
        <div class="row text-center d-flex justify-content-center pt-5 mb-3">
          <div class="col-md-2 mb-3">
            <h6 class="text-uppercase font-weight-bold">
              <a href="https://ruchir-bisht-007.netlify.com/">About Us</a>
            </h6>
          </div>
          <div class="col-md-2 mb-3">
            <h6 class="text-uppercase font-weight-bold">
              <a href="https://github.com/bisht-ruchir-007">GitHub</a>
            </h6>
          </div>
          <div class="col-md-2 mb-3">
            <h6 class="text-uppercase font-weight-bold">
              <a href="https://www.hackerearth.com/challenges/hackathon/stackhack-v1/">Theme</a>
            </h6>
          </div>
          <div class="col-md-2 mb-3">
            <h6 class="text-uppercase font-weight-bold">
              <a href="#!">Contact</a>
            </h6>
          </div>
        </div>
        <hr class="rgba-white-light" style="margin: 0 15%;">
        <div class="row d-flex text-center justify-content-center mb-md-0 mb-4">
          <div class="col-md-8 col-12 mt-5">
            <p style="line-height: 1.7rem">This is Task Management To-do list which allows the user to add,serach,filter,sort 
            and view tasks. Every task consist of Task Name , its Due Date , Label and priority. Filtering of the task can be 
            done on the basis of label,priority,task name,due date .</p>
          </div>

        </div>
        <hr class="clearfix d-md-none rgba-white-light" style="margin: 10% 15% 5%;">
      </div>
      <div class="footer-copyright text-center py-3">Â© 2020 Copyright:
        <a href="https://ruchir-bisht-007.netlify.com/"><b>RUCHIR BISHT</b></a>
      </div>
      </footer>
  </body>
</html>
